/* Theme tokens powered by CSS Custom Properties
   This file defines default CSS variables (using SCSS color variables) and
   a dark-mode override keyed by [data-theme="dark"]. It also provides a
   prefers-color-scheme fallback.
*/

:root {
  --site-bg: #{$background-color};
  --site-text: #{$text-color};
  --site-link: #{$link-color};
  --site-link-hover: #{$link-color-hover};
  --site-border: #{$border-color};
  --site-code-bg: #{$code-background-color};
  --site-primary: #{$primary-color};
}

/* Use variables for base elements so overrides work site-wide */
html, body {
  background: var(--site-bg);
  color: var(--site-text);
}

a { color: var(--site-link); }
a:hover { color: var(--site-link-hover); }

pre, code { background: var(--site-code-bg); }

hr { border-top-color: var(--site-border); }
blockquote { border-left-color: var(--site-primary); }

/* Masthead & navigation tweaks (ensure contrast in dark mode) */
.masthead { background: transparent; }
.masthead a { color: var(--site-primary); }

/* Theme toggle button styles (simple, clean pill with icon) */
.masthead__theme-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 28px;
  margin-left: 0.5rem;
  padding: 0;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.08);
  background: transparent;
  cursor: pointer;
  transition: background 180ms ease, transform 180ms ease, border-color 180ms ease;
}
.masthead__theme-toggle:focus { outline: none; box-shadow: 0 0 0 3px rgba(100,150,255,0.12); }
.masthead__theme-toggle .theme-icon { display: inline-block; width: 20px; height: 20px; }

/* Button appearance in dark theme */
[data-theme='dark'] .masthead__theme-toggle {
  border-color: rgba(255,255,255,0.06);
}

/* icon color & micro-interaction */
.masthead__theme-toggle { color: var(--site-text); background: rgba(0,0,0,0.02); }
.masthead__theme-toggle:hover { transform: translateY(-1px); }
.masthead__theme-toggle:active { transform: translateY(0); }
.masthead__theme-toggle .theme-icon svg { display: block; width: 20px; height: 20px; color: currentColor; transition: transform 240ms ease, opacity 180ms ease; }
[data-theme='dark'] .masthead__theme-toggle { color: var(--site-text); background: rgba(255,255,255,0.02); }


/* Dark theme values */
[data-theme='dark'] {
  /* improved dark palette */
  --site-bg: #0f1720; /* deep blue-black */
  --site-text: #e6eef6; /* soft light text */
  --site-link: #7cc2ff; /* pleasant blue link */
  --site-link-hover: #bfe6ff;
  --site-border: #21313c;
  --site-code-bg: #071323; /* dark code bg */
  --site-primary: #66c0ff; /* accent */
}

/* Remove automatic overrides from prefers-color-scheme so explicit user
   selections (data-theme) always take precedence. If you want the site to
   follow system preferences when no explicit choice exists, the head
   boot script already handles that. */
